$(document).ready(function(){$.cantoUC({env:"canto.com"},w)});function h(e){var n=Math.round(Number(e)/1024);return n<1024?n+"KB":Math.round(n/1024)+"MB"}function w(e,n){for(var s=$("body"),r=s.find("canto#"+e),t="",o=0;o<n.length;o++)t+='<div class="canto-block">',t+='<img class="canto-preview-img" src="'+n[o].previewUri+'">',t+='<div class="canto-preview-name">Name: '+n[o].displayName+"</div>",t+='<div class="canto-preview-size">Size: '+h(n[o].size)+"</div>",t+='<a class="canto-preview-size" href="'+n[o].directUri+'">Download</a>',t+="</div>";r.replaceWith(t)}(function(e,n,s){var r="cantoUC",t={},o="canto.com",l="52ff8ed9d6874d48a3bef9621bc1af26",f,d;e.fn[r]=e[r]=function(i,c){m(i),s.onmessage=function(g){var a=g.data;if(a&&a.type=="getTokenInfo"){var v=n.getElementById("cantoUCFrame").contentWindow;t.formatDistrict=d,v.postMessage(t,"*")}else a&&a.type=="cantoLogout"?(t={},e(".canto-uc-iframe-close-btn").trigger("click")):a&&a.type=="cantoInsertImage"?(e(".canto-uc-iframe-close-btn").trigger("click"),c(f,a.assetList)):a&&a.type=="closeModal"?(e("#fields-dam-preview-image").remove(),e("#fields-rosas-clicker").html("Choose a Different DAM Asset"),e("#fields-dam-asset-preview").prepend(`<img id="fields-dam-preview-image" style="max-height:200px; max-width:200px;" src=${a.thumbnailUrl}/>`),e("#fields-dam-asset-preview").show(),$modal.hide()):a&&u(a)}};function m(i){o=i.env,d=i.extensions}function u(i){e.ajax({type:"POST",url:"https://oauth.canto.com/oauth/api/oauth2/universal2/token",dataType:"json",data:{app_id:l,grant_type:"authorization_code",redirect_uri:"http://localhost:8080",code:i,code_verifier:"1649285048042"},success:function(c){t=c,p(t)},error:function(c){alert("Get token errorz")}})}function p(i){e.ajax({type:"GET",url:"https://oauth."+o+":443/oauth/api/oauth2/tenant/"+i.refreshToken,success:function(c){i.tenant=c,console.log("in test.js loading UC!"),e("#cantoUCFrame").attr("src","/admin/_canto-dam-assets/canto-embed.twig")},error:function(c){alert("Get tenant error")}})}})(jQuery,document,window);
//# sourceMappingURL=test-f90863af.js.map
